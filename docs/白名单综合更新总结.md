# ç™½åå•ç»¼åˆæ›´æ–°æ€»ç»“

## æ›´æ–°æ—¶é—´
2025å¹´12æœˆ14æ—¥

## æ€»è§ˆ

æœ¬æ¬¡å¯¹ç™½åå•è¿›è¡Œäº†å…¨é¢æ›´æ–°ï¼Œæ–°å¢äº†æœç´¢å¼•æ“çˆ¬è™«å’ŒAIå¼•æ“çˆ¬è™«ä¸¤å¤§ç±»IPæ®µã€‚

---

## æ›´æ–°å†…å®¹

### ç¬¬ä¸€é˜¶æ®µï¼šæœç´¢å¼•æ“çˆ¬è™«IPï¼ˆ10ä¸ªæœç´¢å¼•æ“ï¼‰

#### å›½é™…æœç´¢å¼•æ“
1. **Google Googlebot** âœ…
   - 2025å¹´2æœˆæœ€æ–°IPæ®µ
   - å…¨çƒåˆ†å¸ƒå¼èŠ‚ç‚¹
   - æ–°å¢: 192.178.6.0/27 ç­‰

2. **Bing Bingbot** âœ…
   - Microsoftå®˜æ–¹IPåˆ—è¡¨
   - Azureæ•°æ®ä¸­å¿ƒèŠ‚ç‚¹

3. **Yandex YandexBot** âœ…
   - 2025å¹´4æœˆSPFè®°å½•
   - ä¿„ç½—æ–¯ä¸»è¦æœç´¢å¼•æ“

4. **DuckDuckGo** âœ…
   - 2025å¹´6æœˆæ–°å¢JSONç«¯ç‚¹
   - éšç§æœç´¢å¼•æ“

#### ä¸­å›½æœç´¢å¼•æ“
5. **ç™¾åº¦ Baiduspider** âœ…
   - å®Œæ•´IPæ®µ
   - 180.76.0.0/16 ç­‰

6. **360æœç´¢** âœ…
   - å›½å†…ä¸»æµæœç´¢
   - 101.226.0.0/16 ç­‰

7. **æœç‹— Sogou** âœ…
   - è…¾è®¯ç³»æœç´¢
   - 123.126.113.0/24 ç­‰

8. **ç¥é©¬æœç´¢** âœ…
   - é˜¿é‡ŒUCç³»
   - 42.156.0.0/16 ç­‰

9. **å¤´æ¡æœç´¢** âœ…
   - å­—èŠ‚è·³åŠ¨ç³»
   - 110.249.201.0/24 ç­‰

#### å…¶ä»–
10. **Facebookã€LinkedInã€Appleç­‰** âœ…

**æ–°å¢IPæ®µ**: 142ä¸ª

---

### ç¬¬äºŒé˜¶æ®µï¼šAIå¼•æ“çˆ¬è™«IPï¼ˆ11ä¸ªAIå‚å•†ï¼‰

#### é¡¶çº§AIå‚å•†ï¼ˆæ¨èåŠ ç™½åå•ï¼‰
1. **OpenAI** âœ…
   - GPTBotã€ChatGPT-Userã€OAI-SearchBot
   - å®˜æ–¹JSON: https://openai.com/gptbot.json
   - IPæ®µ: 9ä¸ª

2. **Anthropic Claude** âœ…
   - ClaudeBotã€Claude-User
   - å®˜æ–¹æ–‡æ¡£: https://docs.claude.com/
   - IPæ®µ: 1ä¸ª

3. **Google AI** âœ…
   - Google-Extended (Bard, Gemini)
   - ä¸Googlebot IPé‡å 

4. **Meta AI** âœ…
   - Meta-ExternalAgent (Llama)
   - AS32934
   - IPæ®µ: 8ä¸ª

5. **Apple** âœ…
   - Applebot-Extended (Apple Intelligence)
   - IPæ®µ: 3ä¸ª

6. **Common Crawl** âœ…
   - CCBotï¼ˆå¼€æºæ•°æ®é›†ï¼‰
   - å®˜æ–¹JSON: https://index.commoncrawl.org/ccbot.json
   - IPæ®µ: 5ä¸ª

#### å…¶ä»–AIçˆ¬è™«
7. **Amazon Amazonbot** âœ…
8. **LinkedIn AI** âœ…
9. **Diffbot** âš ï¸ï¼ˆå•†ä¸šæ•°æ®æå–ï¼‰
10. **Bytespider** âš ï¸ï¼ˆå­—èŠ‚è·³åŠ¨ï¼Œé«˜é¢‘è®¿é—®ï¼‰
11. **Perplexity** âš ï¸ï¼ˆæœ‰äº‰è®®ï¼Œä¼šç»•è¿‡robots.txtï¼‰

#### ä¸­å›½AIå‚å•†
- ç™¾åº¦æ–‡å¿ƒä¸€è¨€ ğŸ“ï¼ˆæœªå…¬å¼€ï¼‰
- é˜¿é‡Œé€šä¹‰åƒé—® ğŸ“ï¼ˆæœªå…¬å¼€ï¼‰
- è…¾è®¯æ··å…ƒ ğŸ“ï¼ˆæœªå…¬å¼€ï¼‰
- è®¯é£æ˜Ÿç« ğŸ“ï¼ˆæœªå…¬å¼€ï¼‰
- æ™ºè°±ChatGLM ğŸ“ï¼ˆUser-Agentè¯†åˆ«ï¼‰

**æ–°å¢IPæ®µ**: 28ä¸ª

---

## ç™½åå•ç»Ÿè®¡

### æœ€ç»ˆæ•°æ®
```
æ–‡ä»¶æ€»è¡Œæ•°: 585è¡Œ
å•ä¸ªIP:     2ä¸ª
CIDRç½‘æ®µ:   157ä¸ª
IPèŒƒå›´:     140ä¸ª
æ€»è®¡è§„åˆ™:   299æ¡
```

### å¢é•¿ç»Ÿè®¡
```
åˆå§‹çŠ¶æ€:    89è¡Œ  / 22ä¸ªIPæ®µ
æœç´¢å¼•æ“å:   410è¡Œ / 164ä¸ªIPæ®µ  (+142)
AIçˆ¬è™«å:    585è¡Œ / 299æ¡è§„åˆ™  (+28 CIDR, +13 Range)
```

---

## è¦†ç›–èŒƒå›´

### æœç´¢å¼•æ“çˆ¬è™«ï¼ˆ10ä¸ªï¼‰
- âœ… Google Googlebot
- âœ… Bing Bingbot
- âœ… ç™¾åº¦ Baiduspider
- âœ… Yandex YandexBot
- âœ… DuckDuckGo DuckDuckBot
- âœ… 360æœç´¢
- âœ… æœç‹— Sogou
- âœ… ç¥é©¬æœç´¢
- âœ… å¤´æ¡æœç´¢
- âœ… Facebookã€LinkedInã€Appleçˆ¬è™«

### AIå¼•æ“çˆ¬è™«ï¼ˆ11ä¸ªï¼‰
- âœ… OpenAI (GPTBot, ChatGPT-User, SearchBot)
- âœ… Anthropic (ClaudeBot)
- âœ… Google AI (Google-Extended)
- âœ… Meta AI (Meta-ExternalAgent)
- âœ… Apple (Applebot-Extended)
- âœ… Common Crawl (CCBot)
- âœ… Amazon (Amazonbot)
- âš ï¸ Bytespiderï¼ˆå­—èŠ‚è·³åŠ¨ï¼‰
- âš ï¸ Perplexityï¼ˆæœ‰äº‰è®®ï¼‰
- âš ï¸ Diffbot
- âš ï¸ Cohere AI

---

## éªŒè¯æµ‹è¯•

### æœç´¢å¼•æ“æµ‹è¯•
```
âœ“ Google Bot        66.249.64.10      -> åœ¨ç™½åå•
âœ“ ç™¾åº¦çˆ¬è™«          180.76.15.5       -> åœ¨ç™½åå•
âœ“ Bing Bot          40.77.167.50      -> åœ¨ç™½åå•
âœ“ Yandex Bot        77.88.5.10        -> åœ¨ç™½åå•
âœ“ 360æœç´¢           101.226.10.10     -> åœ¨ç™½åå•
âœ“ æœç‹—çˆ¬è™«          123.126.113.10    -> åœ¨ç™½åå•
âœ“ ç¥é©¬æœç´¢          42.156.10.10      -> åœ¨ç™½åå•
```

### AIçˆ¬è™«æµ‹è¯•
```
âœ“ OpenAI GPTBot         40.83.2.70        -> åœ¨ç™½åå•
âœ“ OpenAI ChatGPT-User   23.98.179.20      -> åœ¨ç™½åå•
âœ“ Anthropic ClaudeBot   160.79.104.50     -> åœ¨ç™½åå•
âœ“ Meta AI               173.252.64.100    -> åœ¨ç™½åå•
âœ“ Applebot              17.22.100.10      -> åœ¨ç™½åå•
âœ“ CCBot                 18.97.14.85       -> åœ¨ç™½åå•
âœ“ Bytespider            110.249.201.100   -> åœ¨ç™½åå•
```

**æ‰€æœ‰æµ‹è¯•å‡é€šè¿‡** âœ…

---

## æ–‡ä»¶æ¸…å•

### ä¸»è¦æ–‡ä»¶
1. **white.txt** - ç™½åå•ä¸»æ–‡ä»¶ï¼ˆ585è¡Œï¼‰
2. **crawler_ips_2025.txt** - æœç´¢å¼•æ“çˆ¬è™«IPæºæ–‡ä»¶
3. **ai_crawler_ips_2025.txt** - AIçˆ¬è™«IPæºæ–‡ä»¶

### æ–‡æ¡£æ–‡ä»¶
1. **docs/æœç´¢å¼•æ“çˆ¬è™«ç™½åå•æ›´æ–°è¯´æ˜.md** - æœç´¢å¼•æ“è¯¦ç»†æ–‡æ¡£
2. **docs/AIçˆ¬è™«ç™½åå•æ›´æ–°è¯´æ˜.md** - AIçˆ¬è™«è¯¦ç»†æ–‡æ¡£
3. **docs/é˜²è¯¯å°å»ºè®®.md** - é˜²è¯¯å°é…ç½®æŒ‡å—
4. **docs/ç™½åå•ç»¼åˆæ›´æ–°æ€»ç»“.md** - æœ¬æ–‡ä»¶

### ä»£ç æ›´æ–°
1. **utils/ip_utils.py** - å¢å¼ºæ”¯æŒIPèŒƒå›´æ ¼å¼ï¼ˆå¦‚ 192.168.1.0-192.168.1.255ï¼‰

---

## æ”¯æŒçš„æ ¼å¼

ç™½åå•ç°åœ¨æ”¯æŒä»¥ä¸‹æ ¼å¼ï¼š

### 1. å•ä¸ªIP
```
127.0.0.1
::1
```

### 2. CIDRæ ¼å¼
```
192.168.1.0/24
10.0.0.0/8
2600:1f28:365:80b0::/60
```

### 3. IPèŒƒå›´æ ¼å¼ï¼ˆæ–°å¢ï¼‰
```
13.66.139.0-13.66.139.255
66.249.64.0-66.249.64.31
```

### 4. IPv6æ”¯æŒ âœ…
```
2a03:2880::/29
2600:1f28:365:80b0::/60
```

---

## éƒ¨ç½²æ–¹æ³•

### å®Œæ•´éƒ¨ç½²
```bash
# 1. å¤åˆ¶æ‰€æœ‰æ–‡ä»¶åˆ°æœåŠ¡å™¨
scp -r * root@your-server:/www/server/ipcollect/

# 2. æˆ–ä»…å¤åˆ¶å…³é”®æ–‡ä»¶
cp white.txt /www/server/ipcollect/
cp utils/ip_utils.py /www/server/ipcollect/utils/
cp -r docs /www/server/ipcollect/

# 3. é‡å¯æœåŠ¡
systemctl restart ipcollect

# 4. éªŒè¯æ—¥å¿—
tail -100 /www/server/ipcollect/logs/ipcollect.log
```

### éªŒè¯éƒ¨ç½²
```bash
# æ£€æŸ¥ç™½åå•åŠ è½½
cd /www/server/ipcollect
python -c "
from utils.ip_utils import WhitelistManager
manager = WhitelistManager(whitelist_file='white.txt')
print(f'CIDRç½‘æ®µ: {len(manager._networks)}')
print(f'IPèŒƒå›´: {len(manager._ranges)}')
print(f'æ€»è®¡: {len(manager._ips) + len(manager._networks) + len(manager._ranges)}')
"
```

---

## é…ç½®å»ºè®®

### æ¨èé…ç½®ï¼ˆå¹³è¡¡æ¨¡å¼ï¼‰
```yaml
# config.yaml

# æœç´¢å¼•æ“çˆ¬è™« - å…¨éƒ¨å…è®¸
log_sources:
  nginx: enabled: true
  waf: enabled: true
  free_waf: enabled: true  # å…è´¹WAFåˆ†æ•°å·²å‡åŠ

# AIçˆ¬è™« - é«˜è´¨é‡AIå…è®¸
whitelist_file: ./white.txt  # åŒ…å«æ‰€æœ‰çˆ¬è™«IP

# é˜ˆå€¼ - é€‚åº¦å®½æ¾
thresholds:
  frequency:
    window_seconds: 300
    max_requests: 100      # å¯æé«˜åˆ°200-300
  error_rate:
    window_seconds: 60
    max_errors: 50         # ä»…ç»Ÿè®¡403ã€500-505
  path_scan:
    max_sensitive_hits: 5  # ä¿æŒ
```

### ä¸¥æ ¼æ¨¡å¼ï¼ˆä¿æŠ¤åŸåˆ›å†…å®¹ï¼‰
```yaml
# åªå…è®¸æœç´¢å¼•æ“ï¼Œä¸å…è®¸AIçˆ¬è™«
# æ–¹æ³•ï¼šåœ¨white.txtä¸­åˆ é™¤æˆ–æ³¨é‡ŠAIçˆ¬è™«æ®µ
```

### robots.txté…ç½®ï¼ˆè¡¥å……æ–¹å¼ï¼‰
```
# å…è®¸æ‰€æœ‰æœç´¢å¼•æ“
User-agent: *
Allow: /

# å…è®¸é«˜è´¨é‡AI
User-agent: GPTBot
Allow: /

User-agent: ClaudeBot
Allow: /

User-agent: CCBot
Allow: /

# ç¦æ­¢æœ‰äº‰è®®çš„AI
User-agent: PerplexityBot
Disallow: /

User-agent: Bytespider
Disallow: /

User-agent: ChatGLM-Spider
Disallow: /
```

---

## æ³¨æ„äº‹é¡¹

### âœ… æ¨èåŠ ç™½åå•
- æ‰€æœ‰ä¸»æµæœç´¢å¼•æ“çˆ¬è™«
- OpenAI (GPTBot, ChatGPT-User)
- Anthropic (ClaudeBot)
- Google AI (Google-Extended)
- Meta AI
- Apple (Applebot-Extended)
- Common Crawl (CCBot)

### âš ï¸ è°¨æ…å¤„ç†
- **Perplexity**: ä¼šç»•è¿‡robots.txtï¼Œå¯èƒ½ä¼ªè£…èº«ä»½
- **Bytespider**: é«˜é¢‘è®¿é—®ï¼Œå¿½ç•¥robots.txtï¼Œå»ºè®®é™æµ
- **Diffbot**: å•†ä¸šæ•°æ®æå–ï¼Œè¯„ä¼°åå†³å®š
- **ChatGLM-Spider**: å¿½ç•¥robots.txt

### âŒ ä¸å»ºè®®åŠ ç™½åå•
- æœªçŸ¥çˆ¬è™«
- ä¸éµå®ˆrobots.txtçš„çˆ¬è™«
- é«˜é¢‘æ”»å‡»æ€§çˆ¬è™«

---

## ç»´æŠ¤è®¡åˆ’

### æ¯æœˆç»´æŠ¤
- [ ] æ£€æŸ¥å®˜æ–¹JSONæ›´æ–°ï¼ˆOpenAIã€Common Crawlç­‰ï¼‰
- [ ] æŸ¥çœ‹æ—¥å¿—ä¸­çš„æ–°çˆ¬è™«
- [ ] è¯„ä¼°è¯¯å°æƒ…å†µ

### æ¯å­£åº¦ç»´æŠ¤
- [ ] å…¨é¢æ›´æ–°æœç´¢å¼•æ“IPåˆ—è¡¨
- [ ] è¯„ä¼°AIçˆ¬è™«IPå˜åŒ–
- [ ] å®¡æŸ¥ç™½åå•ç­–ç•¥

### æŒ‰éœ€ç»´æŠ¤
- [ ] å‘ç°æ–°AIçˆ¬è™«æ—¶åŠæ—¶æ·»åŠ 
- [ ] IPæ®µå˜æ›´æ—¶æ›´æ–°
- [ ] å‘ç”Ÿè¯¯å°æ—¶è°ƒæ•´è§„åˆ™

---

## ç›¸å…³æ–‡æ¡£

1. **æœç´¢å¼•æ“çˆ¬è™«**: `docs/æœç´¢å¼•æ“çˆ¬è™«ç™½åå•æ›´æ–°è¯´æ˜.md`
2. **AIçˆ¬è™«**: `docs/AIçˆ¬è™«ç™½åå•æ›´æ–°è¯´æ˜.md`
3. **é˜²è¯¯å°**: `docs/é˜²è¯¯å°å»ºè®®.md`
4. **é¡¹ç›®README**: `README.md`

---

## æ•°æ®æ¥æº

æœ¬æ¬¡æ›´æ–°å‚è€ƒäº†ä»¥ä¸‹å®˜æ–¹å’Œç¤¾åŒºèµ„æºï¼š

### å®˜æ–¹æ¥æº
- Google: https://developers.google.com/
- Microsoft: https://www.bing.com/webmasters
- OpenAI: https://platform.openai.com/docs/bots
- Anthropic: https://docs.claude.com/
- Common Crawl: https://commoncrawl.org/

### ç¤¾åŒºèµ„æº
- GitHub - GoodBots: https://github.com/AnTheMaker/GoodBots
- Dark Visitors: https://darkvisitors.com/
- Search Engine Journal
- DataDome Bot Directory

---

## ä½œè€…ä¿¡æ¯

- ä½œè€…: sinma
- ç½‘ç«™: https://www.carefreecode.com/
- QQ: 42033223
- é¡¹ç›®ç‰ˆæœ¬: 1.0.0
- ç™½åå•ç‰ˆæœ¬: 2.0.0 (2025-12-14)

---

## æ›´æ–°å†å²

### v2.0.0 (2025-12-14)
- âœ… æ–°å¢142ä¸ªæœç´¢å¼•æ“çˆ¬è™«IPæ®µ
- âœ… æ–°å¢28ä¸ªAIçˆ¬è™«IPæ®µ
- âœ… æ”¯æŒIPèŒƒå›´æ ¼å¼
- âœ… æ”¯æŒIPv6åœ°å€
- âœ… å®Œå–„æ–‡æ¡£ä½“ç³»

### v1.0.0 (2025-12-13)
- âœ… åˆå§‹ç‰ˆæœ¬
- âœ… åŸºç¡€ç™½åå•åŠŸèƒ½
- âœ… CIDRæ”¯æŒ

---

**ç™½åå•ç»¼åˆæ›´æ–°å®Œæˆï¼** ğŸ‰
