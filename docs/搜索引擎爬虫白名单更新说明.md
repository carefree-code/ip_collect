# 搜索引擎爬虫IP白名单更新说明

## 更新时间
2025年12月14日

## 已添加的搜索引擎

### 1. Google Googlebot ✅
- **官方来源**: [Google Developers - Googlebot IP](https://developers.google.com/static/search/apis/ipranges/googlebot.json)
- **最新更新**: 2025年2月
- **覆盖IP段**: 约20个CIDR段
- **新增范围**: 192.178.6.0/27, 192.178.6.32/27
- **全球节点**: 美国、印度、印尼、比利时、波兰、新加坡、日本、荷兰、澳大利亚、加拿大、意大利、法国

### 2. Bing/Microsoft Bingbot ✅
- **官方来源**: Microsoft官方IP列表
- **验证工具**: https://www.bing.com/toolbox/
- **覆盖IP段**: 约15个CIDR段
- **主要范围**: 40.77.167.0/24, 157.55.39.0/24, 20.15.133.160/27
- **Azure节点**: 全球多个Azure数据中心

### 3. 百度 Baiduspider ✅
- **官方文档**: [百度帮助中心 - Spider](https://help.baidu.com/question?prod_id=99&class=0&id=3001)
- **覆盖IP段**: 约20个CIDR段
- **主要范围**: 180.76.0.0/16, 220.181.0.0/16
- **验证方法**: 反向DNS查询，应返回 *.baidu.com 或 *.baidu.jp

### 4. Yandex YandexBot ✅
- **官方来源**: [Yandex IPs](https://yandex.com/ips)
- **更新时间**: 2025年4月
- **覆盖IP段**: 约25个CIDR段
- **主要范围**: 77.88.0.0/18, 87.250.224.0/19
- **自治系统**: AS13238, AS208722
- **验证方法**: 反向DNS查询

### 5. DuckDuckGo DuckDuckBot ✅
- **官方JSON**: [DuckDuckBot IP列表](https://duckduckgo.com/duckduckbot.json)
- **DuckAssistBot**: [DuckAssistBot IP列表](https://duckduckgo.com/duckassistbot.json)
- **更新**: 2025年6月新增JSON端点

### 6. 360搜索 ✅
- **覆盖IP段**: 约10个CIDR段
- **主要范围**: 101.226.0.0/16, 106.38.241.0/24

### 7. 搜狗 Sogou ✅
- **覆盖IP段**: 约8个CIDR段
- **主要范围**: 123.126.113.0/24, 123.125.0.0/16

### 8. 神马搜索 (阿里UC) ✅
- **覆盖IP段**: 约4个CIDR段
- **主要范围**: 42.156.0.0/16, 106.11.0.0/16

### 9. 头条搜索 ✅
- **覆盖IP段**: 约4个CIDR段
- **主要范围**: 110.249.201.0/24, 111.225.148.0/23

### 10. 其他常见爬虫 ✅
- **Facebook爬虫**: 4个CIDR段
- **LinkedIn爬虫**: 108.174.0.0/16
- **Apple Bot**: 17.0.0.0/8
- **Slack爬虫**: 54.236.0.0/16

## 统计信息

- **单个IP数量**: 2
- **CIDR网段数量**: 129
- **IP范围数量**: 140
- **总计规则数**: 271
- **文件总行数**: 410行（含注释）

## 测试结果

所有主流搜索引擎爬虫IP均通过测试：
- ✓ Google Bot
- ✓ Bing Bot
- ✓ 百度爬虫
- ✓ Yandex Bot
- ✓ 360搜索
- ✓ 搜狗爬虫
- ✓ 神马搜索

## 部署方法

```bash
# 复制更新后的白名单到服务器
cp white.txt /www/server/ipcollect/

# 重启服务
systemctl restart ipcollect
```

## 验证爬虫真实性

### 方法1: 反向DNS查询
```bash
# Google
host <IP地址>
# 应返回: crawl-<IP>.googlebot.com

# 百度
host <IP地址>
# 应返回: *.baidu.com 或 *.baidu.jp

# Bing
host <IP地址>
# 应返回: *.search.msn.com
```

### 方法2: 使用官方工具
- **Google**: 无官方工具，使用反向DNS
- **Bing**: https://www.bing.com/toolbox/
- **Yandex**: https://yandex.com/support/webmaster/en/robot-workings/check-yandex-robots.html

## 维护建议

1. **定期更新**: 建议每3-6个月检查一次官方IP列表更新
2. **监控日志**: 定期检查是否有新的爬虫IP被误封
3. **验证身份**: 对于可疑的爬虫访问，使用反向DNS验证
4. **关注公告**: 订阅各大搜索引擎的开发者博客，及时了解IP变更

## 参考资料

- [Google Search Central](https://developers.google.com/search)
- [Bing Webmaster Tools](https://www.bing.com/webmasters)
- [百度搜索资源平台](https://ziyuan.baidu.com/)
- [Yandex Webmaster](https://yandex.com/support/webmaster/)
- [DuckDuckGo Help Pages](https://duckduckgo.com/duckduckgo-help-pages/)

## 作者信息

- 作者: sinma
- 网站: https://www.carefreecode.com/
- QQ: 42033223
- 版本: 1.0.0
